<!DOCTYPE html>
<html lang="zh-tw">

<head>
    <meta charset="UTF-8">
    <meta name="author" content="SoftHand.studio">
    <meta name="copyright" content="SoftHand.studio">
    <title>Google WebSpeech API Test</title>
</head>

<body>
    <h1>
        <a class="c1" href="http://dvcs.w3.org/hg/speech-api/raw-file/tip/speechapi.html">Google Web Speech API</a> Test
    </h1>
    
    <select id="select"></select>
    <button onclick="start()">Click to Speak</button>
    <script type="text/javascript">
        var recognition = new SpeechRecognition();
        recognition.continuous = true;
        recognition.interimResults = true;
        recognition.lang = "cmn-Hant-TW";
        recognition.onstart = function () {
            console.log('開始辨識...');
        };
        recognition.onend = function () {
            console.log('停止辨識!');
        };
        recognition.maxAlternatives = 10;
        recognition.onresult = function (event) {
            if (event.results.length > 0) {
                var result = event.results[0];
                for (var i = 0; i < result.length; ++i) {
                    var text = result[i].transcript;
                    select.options[i] = new Option(text, text);
                }
            }
        }

        function start() {
            select.options.length = 0;
            recognition.start();
        }
    </script>

<!--
    <h4>辨識的文字會顯示在下方：<h4>
    <h2 id="show"></h2>
    <script>
        var show = document.getElementById('show');
        var recognition = new webkitSpeechRecognition();

        recognition.continuous=true;
        recognition.interimResults=true;
        recognition.lang="cmn-Hant-TW";

        recognition.onstart=function(){
          console.log('開始辨識...');
        };
        recognition.onend=function(){
          console.log('停止辨識!');
        };

        recognition.onresult=function(event){
          var i = event.resultIndex;
          var j = event.results[i].length-1;
          show.innerHTML = event.results[i][j].transcript;
        };

        recognition.start();  
    </script>
-->
</body>

</html>