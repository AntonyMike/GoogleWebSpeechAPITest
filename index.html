<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Google Web Speech API Test </title>
</head>

<body>
  <h4>辨識的文字會顯示在下方選單：</h4>
  <h1 id="show"></h1>
  <script type="text/javascript">
      var recognition = new SpeechRecognition();
      recognition.continuous=true;
      recognition.interimResults=true;
      recognition.lang="cmn-Hant-TW";

      recognition.onstart=function(){
        console.log('開始辨識...');
      };
      recognition.onend=function(){
        console.log('停止辨識!');
      };
      recognition.maxAlternatives = 10;
      recognition.onresult = function (event) {
          if (event.results.length > 0) {
              var result = event.results[0];
              for (var i = 0; i < result.length; ++i) {
                  var text = result[i].transcript;
                  select.options[i] = new Option(text, text);
              }
          }
      }

      function start() {
          select.options.length = 0;
          recognition.start();
      }
  </script>
  <select id="select"></select>
  <button onclick="start()">Click to Speak</button>
</body>

</html>
